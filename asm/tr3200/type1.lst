2	00100000  	.ORG	100000	
4	00100000  	MOV	%sp,020000	0D00C04000000200
8	00100008  	MOV	%r10,10FF00	0A00C04000FF1000
9	00100010 begin_search_tda		
10	00100010  	ADD	%r10,%r10,100	AA008184
11	00100014  	IFEQ	%r10,112100	0A00C04B00211100
12	0010001c  	JMP	end_search_tda	4C009025
14	00100020  	LOADB	%r0,%r10	A0000047
15	00100024  	IFNEQ	%r0,FF	F00F804C
16	00100028  	JMP	begin_search_tda	10009025
18	0010002c  	ADD	%r1,%r10,1	A1018084
19	00100030  	LOADB	%r0,%r1	10000047
20	00100034  	IFNEQ	%r0,0E	E000804C
21	00100038  	JMP	begin_search_tda	10009025
23	0010003c  	ADD	%r1,%r10,2	A1028084
24	00100040  	LOADB	%r0,%r1	10000047
25	00100044  	IFNEQ	%r0,01	1000804C
26	00100048  	JMP	begin_search_tda	10009025
28	0010004c end_search_tda		
29	0010004c  	IFEQ	%r10,112100	0A00C04B00211100
30	00100054  	JMP	crash	84029025
31	00100058  	STORE	TDA_base_dev,%r10	0A108048
33	0010005c  	IFEQ	%r10,FFFFFFFF	0A00C04BFFFFFFFF
34	00100064  	JMP	crash	84029025
37	00100068  	ADD	%r0,%r10,0A	A00A8084
39	0010006c  	MOV	%r1,001000	01008140
40	00100070  	STORE	%r0,%r1	01000048
42	00100074  	ADD	%r0,%r10,08	A0088084
43	00100078  	MOV	%r1,0	01008040
44	0010007c  	STOREW	%r0,%r1	01000049
47	00100080  	MOV	%r0,001000	00008140
48	00100084  	MOV	%r1,40	01048040
49	00100088  	CALL	clr_screen	90049026
53	0010008c  	MOV	%r10,10FF00	0A00C04000FF1000
54	00100094 begin_search_gkeyb		
55	00100094  	ADD	%r10,%r10,100	AA008184
56	00100098  	IFEQ	%r10,112100	0A00C04B00211100
57	001000a0  	JMP	end_search_gkeyb	D0009025
59	001000a4  	LOADB	%r0,%r10	A0000047
60	001000a8  	IFNEQ	%r0,FF	F00F804C
61	001000ac  	JMP	begin_search_gkeyb	94009025
63	001000b0  	ADD	%r1,%r10,1	A1018084
64	001000b4  	LOADB	%r0,%r1	10000047
65	001000b8  	IFNEQ	%r0,03	3000804C
66	001000bc  	JMP	begin_search_gkeyb	94009025
68	001000c0  	ADD	%r1,%r10,2	A1028084
69	001000c4  	LOADB	%r0,%r1	10000047
70	001000c8  	IFNEQ	%r0,01	1000804C
71	001000cc  	JMP	begin_search_gkeyb	94009025
73	001000d0 end_search_gkeyb		
74	001000d0  	IFEQ	%r10,112100	0A00C04B00211100
75	001000d8  	JMP	not_found	70029025
77	001000dc  	STORE	GKeyb_base_dev,%r10	4A108048
80	001000e0  	MOV	%r0,0	00008040
81	001000e4  	STOREB	col,%r0	0000804A
82	001000e8  	STOREB	row,%r0	1000804A
85	001000ec loop		
87	001000ec  	LOADB	%r1,col	01008047
88	001000f0  	LOADB	%r0,row	10008047
89	001000f4  	CALL	get_offset_from_row_col	8C029026
90	001000f8  	ADD	%r0,%r0,001000	00009084
93	001000fc  	LOADW	%r3,blink	23008046
94	00100100  	ADD	%r3,%r3,1	33018084
95	00100104  	IFL	%r3,256	0310804D
96	00100108  	JMP	blink_off	2C019025
98	0010010c blink_on		
99	0010010c  	IFL	%r3,512	0320804D
100	00100110  	JMP	blink_on_real	18019025
101	00100114  	MOV	%r3,0	03008040
103	00100118 blink_on_real		
104	00100118  	STOREW	blink,%r3	23008049
106	0010011c  	ADD	%r8,%r0,1	08018084
107	00100120  	MOV	%r3,F4	430F8040
108	00100124  	STOREB	%r8,%r3	8300004A
110	00100128  	JMP	read_keyb	3C019025
112	0010012c blink_off		
113	0010012c  	STOREW	blink,%r3	23008049
115	00100130  	ADD	%r8,%r0,1	08018084
116	00100134  	MOV	%r3,4F	F3048040
117	00100138  	STOREB	%r8,%r3	8300004A
121	0010013c read_keyb		
122	0010013c  	MOV	%r8,%r0	08000040
123	00100140  	LOAD	%r0,GKeyb_base_dev	40108045
124	00100144  	ADD	%r1,%r0,12	01128084
126	00100148  	LOADW	%r2,%r1	12000046
127	0010014c  	IFEQ	%r2,0	0200804B
128	00100150  	JMP	loop	EC009025
130	00100154  	ADD	%r1,%r0,08	01088084
131	00100158  	MOV	%r2,1	12008040
132	0010015c  	STOREW	%r1,%r2	12000049
135	00100160  	ADD	%r1,%r0,0A	010A8084
136	00100164  	LOADB	%r4,%r1	14000047
138	00100168  	IFEQ	%r4,0D	D400804B
139	0010016c  	JMP	enter	B4019025
141	00100170  	IFEQ	%r4,08	8400804B
142	00100174  	JMP	delete	A4019025
144	00100178  	IFEQ	%r4,14	4401804B
145	0010017c  	JMP	arrow_left	C4019025
147	00100180  	IFEQ	%r4,15	5401804B
148	00100184  	JMP	arrow_right	D8019025
150	00100188  	IFL	%r4,20	0402804D
151	0010018c  	JMP	loop	EC009025
153	00100190  	OR	%r4,%r4,4F00	4400C081004F0000
154	00100198  	STOREW	%r8,%r4	84000049
156	0010019c  	CALL	inc_cursor	EC019026
158	001001a0  	JMP	loop	EC009025
161	001001a4 delete		
162	001001a4  	MOV	%r4,4F20	04F28440
163	001001a8  	STOREW	%r8,%r4	84000049
164	001001ac  	CALL	dec_cursor	3C029026
166	001001b0  	JMP	loop	EC009025
169	001001b4 enter		
170	001001b4  	MOV	%r4,4F20	04F28440
171	001001b8  	STOREW	%r8,%r4	84000049
172	001001bc  	CALL	next_line	1C029026
173	001001c0  	JMP	loop	EC009025
176	001001c4 arrow_left		
178	001001c4  	ADD	%r8,%r8,1	88018084
179	001001c8  	MOV	%r4,4F	F4048040
180	001001cc  	STOREB	%r8,%r4	8400004A
181	001001d0  	CALL	dec_cursor	3C029026
182	001001d4  	JMP	loop	EC009025
185	001001d8 arrow_right		
187	001001d8  	ADD	%r8,%r8,1	88018084
188	001001dc  	MOV	%r4,4F	F4048040
189	001001e0  	STOREB	%r8,%r4	8400004A
190	001001e4  	CALL	inc_cursor	EC019026
191	001001e8  	JMP	loop	EC009025
194	001001ec inc_cursor		
195	001001ec  	LOADB	%r0,col	00008047
196	001001f0  	ADD	%r0,%r0,1	00018084
197	001001f4  	IFL	%r0,40	8002804D
198	001001f8  	JMP	inc_cursor_end	14029025
200	001001fc  	MOV	%r0,0	00008040
201	00100200  	LOAD	%r1,row	11008045
202	00100204  	ADD	%r1,%r1,1	11018084
203	00100208  	IFEQ	%r1,30	E101804B
204	0010020c  	MOV	%r1,0	01008040
205	00100210  	STOREB	row,%r1	1100804A
207	00100214 inc_cursor_end		
208	00100214  	STOREB	col,%r0	0000804A
210	00100218  	RET		00000001
213	0010021c next_line		
214	0010021c  	LOAD	%r1,row	11008045
215	00100220  	ADD	%r1,%r1,1	11018084
216	00100224  	IFEQ	%r1,30	E101804B
217	00100228  	MOV	%r1,0	01008040
218	0010022c  	STOREB	row,%r1	1100804A
220	00100230  	MOV	%r0,0	00008040
221	00100234  	STOREB	col,%r0	0000804A
223	00100238  	RET		00000001
226	0010023c dec_cursor		
227	0010023c  	LOADB	%r0,col	00008047
228	00100240  	SUB	%r0,%r0,1	00018086
229	00100244  	IFSL	%r0,0	0000804E
230	00100248  	JMP	dec_cursor_reset_col	50029025
231	0010024c  	JMP	dec_cursor_end	68029025
233	00100250 dec_cursor_reset_col		
234	00100250  	MOV	%r0,39	70028040
235	00100254  	LOAD	%r1,row	11008045
236	00100258  	SUB	%r1,%r1,1	11018086
237	0010025c  	IFSL	%r1,0	0100804E
238	00100260  	MOV	%r1,29	D1018040
239	00100264  	STOREB	row,%r1	1100804A
241	00100268 dec_cursor_end		
242	00100268  	STOREB	col,%r0	0000804A
244	0010026c  	RET		00000001
247	00100270 not_found		
249	00100270  	MOV	%r1,001000	01008140
250	00100274  	MOV	%r0,str_not_found	0000C04004051000
251	0010027c  	MOV	%r2,4D	D2048040
252	00100280  	CALL	print	9C029026
254	00100284 crash		
255	00100284  	SLEEP		00000000
5	00100288  	.DD	BEEFCAFE	FECAEFBE
13	0010028c get_offset_from_row_col		
16	0010028c  	LLS	%r1,%r1,1	1101808A
18	00100290  	MUL	%r0,%r0,80	0050808F
19	00100294  	ADD	%r0,%r0,%r1	00010084
21	00100298  	RET		00000001
29	0010029c print		
30	0010029c  	LLS	%r2,%r2,8	2208808A
32	001002a0 print_loop		
33	001002a0  	LOADB	%r3,%r0	03000047
34	001002a4  	IFEQ	%r3,0	0300804B
35	001002a8  	JMP	print_end	C0029025
37	001002ac  	OR	%r3,%r3,%r2	33020081
38	001002b0  	STOREW	%r1,%r3	13000049
40	001002b4  	ADD	%r1,%r1,2	11028084
41	001002b8  	ADD	%r0,%r0,1	00018084
42	001002bc  	JMP	print_loop	A0029025
44	001002c0 print_end		
46	001002c0  	RET		00000001
54	001002c4 print_hex_b		
55	001002c4  	PUSH	%r5	05000024
57	001002c8  	LLS	%r2,%r2,8	2208808A
58	001002cc  	LRS	%r5,%r0,4	0504808B
59	001002d0  	AND	%r0,%r0,0000000F	000F8080
64	001002d4  	ADD	%r5,%r5,55	55378084
65	001002d8  	IFL	%r5,A	1504804D
66	001002dc  	SUB	%r5,%r5,7	55078086
68	001002e0  	OR	%r5,%r5,%r2	55020081
69	001002e4  	STOREW	%r1,%r5	15000049
72	001002e8  	ADD	%r1,%r1,2	11028084
73	001002ec  	ADD	%r5,%r0,55	05378084
74	001002f0  	IFL	%r5,A	1504804D
75	001002f4  	SUB	%r5,%r5,7	55078086
77	001002f8  	OR	%r5,%r5,%r2	55020081
78	001002fc  	STOREW	%r1,%r5	15000049
80	00100300  	POP	%r5	05000023
82	00100304  	RET		00000001
90	00100308 print_hex_w		
91	00100308  	PUSH	%r5	05000024
93	0010030c  	LLS	%r2,%r2,8	2208808A
95	00100310  	LRS	%r5,%r0,12	050C808B
98	00100314  	ADD	%r5,%r5,55	55378084
99	00100318  	IFL	%r5,A	1504804D
100	0010031c  	SUB	%r5,%r5,7	55078086
102	00100320  	OR	%r5,%r5,%r2	55020081
103	00100324  	STOREW	%r1,%r5	15000049
106	00100328  	LRS	%r5,%r0,8	0508808B
107	0010032c  	AND	%r5,%r5,0F	550F8080
109	00100330  	ADD	%r1,%r1,2	11028084
110	00100334  	ADD	%r5,%r5,55	55378084
111	00100338  	IFL	%r5,A	1504804D
112	0010033c  	SUB	%r5,%r5,7	55078086
114	00100340  	OR	%r5,%r5,%r2	55020081
115	00100344  	STOREW	%r1,%r5	15000049
118	00100348  	LRS	%r5,%r0,4	0504808B
119	0010034c  	AND	%r5,%r5,0F	550F8080
121	00100350  	ADD	%r1,%r1,2	11028084
122	00100354  	ADD	%r5,%r5,55	55378084
123	00100358  	IFL	%r5,A	1504804D
124	0010035c  	SUB	%r5,%r5,7	55078086
126	00100360  	OR	%r5,%r5,%r2	55020081
127	00100364  	STOREW	%r1,%r5	15000049
130	00100368  	AND	%r5,%r0,0F	050F8080
132	0010036c  	ADD	%r1,%r1,2	11028084
133	00100370  	ADD	%r5,%r5,55	55378084
134	00100374  	IFL	%r5,A	1504804D
135	00100378  	SUB	%r5,%r5,7	55078086
137	0010037c  	OR	%r5,%r5,%r2	55020081
138	00100380  	STOREW	%r1,%r5	15000049
140	00100384  	POP	%r5	05000023
142	00100388  	RET		00000001
150	0010038c print_hex_dw		
151	0010038c  	PUSH	%r5	05000024
153	00100390  	LLS	%r2,%r2,8	2208808A
155	00100394  	LRS	%r5,%r0,28	051C808B
158	00100398  	ADD	%r5,%r5,55	55378084
159	0010039c  	IFL	%r5,A	1504804D
160	001003a0  	SUB	%r5,%r5,7	55078086
162	001003a4  	OR	%r5,%r5,%r2	55020081
163	001003a8  	STOREW	%r1,%r5	15000049
166	001003ac  	LRS	%r5,%r0,24	0518808B
167	001003b0  	AND	%r5,%r5,0F	550F8080
169	001003b4  	ADD	%r1,%r1,2	11028084
170	001003b8  	ADD	%r5,%r5,55	55378084
171	001003bc  	IFL	%r5,A	1504804D
172	001003c0  	SUB	%r5,%r5,7	55078086
174	001003c4  	OR	%r5,%r5,%r2	55020081
175	001003c8  	STOREW	%r1,%r5	15000049
178	001003cc  	LRS	%r5,%r0,20	0514808B
179	001003d0  	AND	%r5,%r5,0F	550F8080
181	001003d4  	ADD	%r1,%r1,2	11028084
182	001003d8  	ADD	%r5,%r5,55	55378084
183	001003dc  	IFL	%r5,A	1504804D
184	001003e0  	SUB	%r5,%r5,7	55078086
186	001003e4  	OR	%r5,%r5,%r2	55020081
187	001003e8  	STOREW	%r1,%r5	15000049
190	001003ec  	LRS	%r5,%r0,16	0510808B
191	001003f0  	AND	%r5,%r5,0F	550F8080
193	001003f4  	ADD	%r1,%r1,2	11028084
194	001003f8  	ADD	%r5,%r5,55	55378084
195	001003fc  	IFL	%r5,A	1504804D
196	00100400  	SUB	%r5,%r5,7	55078086
198	00100404  	OR	%r5,%r5,%r2	55020081
199	00100408  	STOREW	%r1,%r5	15000049
202	0010040c  	LRS	%r5,%r0,12	050C808B
203	00100410  	AND	%r5,%r5,0F	550F8080
205	00100414  	ADD	%r1,%r1,2	11028084
206	00100418  	ADD	%r5,%r5,55	55378084
207	0010041c  	IFL	%r5,A	1504804D
208	00100420  	SUB	%r5,%r5,7	55078086
210	00100424  	OR	%r5,%r5,%r2	55020081
211	00100428  	STOREW	%r1,%r5	15000049
214	0010042c  	LRS	%r5,%r0,8	0508808B
215	00100430  	AND	%r5,%r5,0F	550F8080
217	00100434  	ADD	%r1,%r1,2	11028084
218	00100438  	ADD	%r5,%r5,55	55378084
219	0010043c  	IFL	%r5,A	1504804D
220	00100440  	SUB	%r5,%r5,7	55078086
222	00100444  	OR	%r5,%r5,%r2	55020081
223	00100448  	STOREW	%r1,%r5	15000049
226	0010044c  	LRS	%r5,%r0,4	0504808B
227	00100450  	AND	%r5,%r5,0F	550F8080
229	00100454  	ADD	%r1,%r1,2	11028084
230	00100458  	ADD	%r5,%r5,55	55378084
231	0010045c  	IFL	%r5,A	1504804D
232	00100460  	SUB	%r5,%r5,7	55078086
234	00100464  	OR	%r5,%r5,%r2	55020081
235	00100468  	STOREW	%r1,%r5	15000049
238	0010046c  	AND	%r5,%r0,0F	050F8080
240	00100470  	ADD	%r1,%r1,2	11028084
241	00100474  	ADD	%r5,%r5,55	55378084
242	00100478  	IFL	%r5,A	1504804D
243	0010047c  	SUB	%r5,%r5,7	55078086
245	00100480  	OR	%r5,%r5,%r2	55020081
246	00100484  	STOREW	%r1,%r5	15000049
248	00100488  	POP	%r5	05000023
250	0010048c  	RET		00000001
257	00100490 clr_screen		
258	00100490  	MOV	%r3,2400	03968040
259	00100494  	ADD	%r3,%r3,%r0	33000084
261	00100498  	LLS	%r1,%r1,8	1108808A
262	0010049c  	OR	%r1,%r1,20	11208081
264	001004a0 clr_screen_loop		
265	001004a0  	STOREW	%r0,%r1	01000049
266	001004a4  	ADD	%r0,%r0,2	00028084
268	001004a8  	IFLE	%r0,%r3	3000004F
269	001004ac  	JMP	clr_screen_loop	A0049025
271	001004b0  	RET		00000001
279	001004b4 hwn		
280	001004b4  	PUSH	%r4	04000024
281	001004b8  	PUSH	%r5	05000024
282	001004bc  	MOV	%r3,%r0	03000040
283	001004c0  	MOV	%r0,0	00008040
284	001004c4  	MOV	%r1,0	01008040
286	001004c8 hwn_for_loop		
288	001004c8  	LLS	%r4,%r1,8	1408808A
289	001004cc  	ADD	%r4,%r4,110000	4400C08400001100
292	001004d4  	LOADB	%r2,%r4	42000047
293	001004d8  	IFNEQ	%r2,FF	F20F804C
294	001004dc  	JMP	hwn_check_cond_for_loop	EC049025
296	001004e0  	ADD	%r5,%r3,%r0	35000084
297	001004e4  	STOREB	%r5,%r1	5100004A
298	001004e8  	ADD	%r0,%r0,1	00018084
300	001004ec hwn_check_cond_for_loop		
302	001004ec  	ADD	%r1,%r1,1	11018084
303	001004f0  	IFL	%r1,32	0102804D
304	001004f4  	JMP	hwn_for_loop	C8049025
306	001004f8 end_hwn		
307	001004f8  	POP	%r5	05000023
308	001004fc  	POP	%r4	04000023
309	00100500  	RET		00000001
261	00100504 str_not_found		
262	00100504  	.DB	Generic Keyboard not found.,0	47 65 6E 65 72 69 63 20 4B 65 79 62 6F 61 72 64 20 6E 6F 74 20 66 6F 75 6E 64 2E 00
266	00000000  	.ORG	0	
268	00000000 col	.db	0	00
269	00000001 row	.db	0	00
270	00000002 blink	.dw	0	0000
272	00000100  	.ORG	0100	
273	00000100 TDA_base_dev	.dd	0	00000000
274	00000104 GKeyb_base_dev	.dd	0	00000000
Symbols:
00100504  str_not_found
001001d8  arrow_right
0010004c  end_search_tda
0010029c  print
001000ec  loop
00000002  blink
0010038c  print_hex_dw
00100490  clr_screen
00000001  row
001004ec  hwn_check_cond_for_loop
00100010  begin_search_tda
0010021c  next_line
0010023c  dec_cursor
001001b4  enter
001002c0  print_end
00000104  GKeyb_base_dev
0010028c  get_offset_from_row_col
00100268  dec_cursor_end
001001a4  delete
001001c4  arrow_left
00100308  print_hex_w
00000100  TDA_base_dev
001000d0  end_search_gkeyb
0010013c  read_keyb
0010012c  blink_off
00100118  blink_on_real
00100214  inc_cursor_end
00100270  not_found
00000000  col
00100094  begin_search_gkeyb
001002c4  print_hex_b
0010010c  blink_on
001002a0  print_loop
001004f8  end_hwn
001004b4  hwn
00100250  dec_cursor_reset_col
001004c8  hwn_for_loop
001004a0  clr_screen_loop
001001ec  inc_cursor
00100284  crash
